---
title: TypeScriptä½¿ç”¨ï¼ˆäºŒï¼‰
date: 2021-03-20 14:20:00
categories: 'TypeScript'
tags:
- TypeScript
---

Tips: ä»¥å‰è§‰å¾—å†™TSçœŸçš„è‚ºç»ï¼Œå¾—å…ˆå®šä¹‰å¥½å¤šçš„ç±»å‹éå¸¸éº»çƒ¦ï¼Œç°åœ¨ç†è§£äº†TSæ˜¯å¯¹ç±»å‹çš„ç»„åˆï¼Œåº”ç”¨å¥½å…¶å®ä¸€å¥è¯å°±å¯ä»¥è§£å†³,
é€šè¿‡å¤§çº¦ä¸€å‘¨çš„å­¦ä¹ TSé‡Œé¢æœ‰äº›æ¯”è¾ƒéš¾çš„æ¦‚å¿µè¿›è¡Œäº†æ€»ç»“
### ä¸€ã€å¯ç´¢å¼•ç±»å‹
```ts
// [{ id: 1, name: 'num1', age: 24 }, { id: 2, name: 'num2'}, { id: 3, name: 'num2', age: '25'}]
// [2, 3, 4, 5, 6, 7]
// ['2', 2, ]
// [2, 's', { id: 222, name: 2232, age: 2323 }]
export type JsonArray = {
  id: number,
  name: string | number,
  age?: number | string
}
export type NumberArray = {
  [x: number]: number
}
export type MixingArray = {
  [x: number]: number | string | JsonArray
}
const jsonArray:JsonArray[] = [{ id: 1, name: 'num1', age: 24 }, { id: 2, name: 'num2'}, { id: 3, name: 'num2', age: '25'}]
const numberArray1:NumberArray = [2, 3, 4, 5, 6, 7];
const mixingArray: MixingArray = [2, 's', { id: 222, name: 2232, age: 2323 }]
```
æ€»ç»“ï¼š *å¯ç´¢å¼•ç±»å‹ --- å…¶å®å¯ä»¥è¡¨ç¤ºstring[] number[] key/valueå½¢å¼çš„ç±»å‹ ï¼Œå½“ç„¶ç±»å‹å®šä¹‰æ—¶åº”è¯¥æ˜¯è¶Šç´§å‡‘è¶Šå¥½ï¼Œç´¢å¼•ç­¾åå¿…é¡»æ˜¯number æˆ–è€… stringç±»å‹ï¼Œè€Œä¸”æ•°ç»„å¿…é¡»æ˜¯numberç±»å‹ï¼Œå³ä½¿æ˜¯numberç±»å‹ä½œä¸ºç´¢å¼•javascriptä¹Ÿä¼šå°†numberè½¬æ¢æˆstringå»ç´¢å¼•é˜Ÿè±¡*

-------

### äºŒã€typeï¼ˆç±»å‹åˆ«åï¼‰å’Œ interfaceï¼ˆæ¥å£ï¼‰
>+ interfaceï¼š
åŒåçš„ interface è‡ªåŠ¨èšåˆï¼Œä¹Ÿå¯ä»¥è·ŸåŒåçš„ class è‡ªåŠ¨èšåˆ
åªèƒ½è¡¨ç¤º objectã€classã€function ç±»å‹
> 
>+ type:
ä¸ä»…ä»…èƒ½å¤Ÿè¡¨ç¤º objectã€classã€function
ä¸èƒ½é‡åï¼ˆè‡ªç„¶ä¸å­˜åœ¨åŒåèšåˆäº†ï¼‰ï¼Œæ‰©å±•å·²æœ‰çš„ type éœ€è¦åˆ›å»ºæ–° type
æ”¯æŒå¤æ‚çš„ç±»å‹æ“ä½œ
èƒ½ç”¨interfaceå°±ç”¨interfaceå¦åˆ™ç”¨type

interface å’Œ typeéƒ½å¯ä»¥ç»§æ‰¿å·²æœ‰ç±»å‹ï¼Œè¯­æ³•ä¸Šä¼šæœ‰é—®é¢˜ ï¼ˆ tips: å›¢é˜Ÿåˆ†äº«çš„æ—¶å€™è®²åˆ°type extends type æˆ– type extends interface ä¹‹é—´ä¸èƒ½é€šè¿‡extendså®ç°ï¼Œ éœ€è¦ç”¨&  ï¼‰
> 1ã€interface extends interface
```ts
    interface Dog { name: string }
    interface Animate extends Dog { age:number }
```
> 2ã€type extends type
```ts
    type Dog = { name: string }
    type Animate = Dog & { age: number }
```
> 3ã€interface extends type
```ts
    type Dog = { name: string }
    interface Animate extends Dog { age: number }
```
> 4ã€type extends interface
```ts
    interface Dog { name: string }
    type Animate = Dog & { age: number }
```


### ä¸‰ã€keyof ç´¢å¼•æ“ä½œç¬¦
å‡è®¾ T æ˜¯ä¸€ä¸ªç±»å‹ï¼Œé‚£ä¹ˆkeyof Täº§ç”Ÿçš„ç±»å‹å°±æ˜¯ T çš„å±æ€§åç§°å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹æ„æˆçš„è”åˆç±»å‹(è”åˆç±»å‹æ¯”è¾ƒç®€å•ï¼Œå’Œäº¤å‰ç±»å‹å¯¹ç«‹ç›¸ä¼¼)
```ts
interface Info {
 id: number,
 name: string,
 age: number,
 introduction,
}
type Ant = keyof Info /* type Ant = "id"|"name"|"age"|"introduction"*/
```
**notice : å¦‚æœ T æ˜¯å¸¦æœ‰å­—ç¬¦ä¸²ç´¢å¼•çš„ç±»å‹ï¼Œé‚£ä¹ˆkeyof Tæ˜¯ stringæˆ–è€…numberç±»å‹ã€‚ ç´¢å¼•ç­¾åå‚æ•°ç±»å‹å¿…é¡»ä¸º "string" æˆ– "number"**

### å››ã€æ³›å‹
    æ³›å‹æ˜¯æŒ‡åœ¨å®šä¹‰å‡½æ•°ã€æ¥å£æˆ–è€…ç±»æ—¶ï¼ŒæœªæŒ‡å®šå…¶å‚æ•°ç±»å‹ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶ä¼ å…¥æ‰èƒ½ç¡®å®šã€‚é‚£ä¹ˆæ­¤æ—¶çš„å‚æ•°ç±»å‹å°±æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè¿™é‡Œä¸å¤šä¸¾ä¾‹å­
```ts
const test1: (arg: number) => number = (arg: number):number => arg
const test2: (arg: string) => string = (arg: string):string => arg
// å…¶å®å¯ä»¥å¤ç”¨
const test = <T>(arg: T):T => arg;
```
æ€»ç»“ï¼š*æ³›å‹å…¶å®å°±æ˜¯JSé‡Œçš„å‡½æ•°ï¼Œé€šè¿‡å‚æ•°æ¥æ”¶ä¸€ä¸ªç±»å‹è¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹*

### äº”ã€infer
>+ JSå£°æ˜å˜é‡çš„æ—¶å€™æ˜¯let num å…¶å®å£°æ˜äº†ä¸€ä¸ªå˜é‡è¿˜æ²¡æœ‰èµ‹å€¼ä¸ç¡®å®šæ˜¯ä»€ä¹ˆ
>+ TSé€šè¿‡inferå£°æ˜ä¸€ä¸ªä¸ç¡®å®šçš„ç±»å‹å˜é‡ infer R å°±æ˜¯å£°æ˜ä¸€ä¸ªç±»å‹å˜é‡R
>+ infer ç†è§£èµ·æ¥æ¯”è¾ƒæŠ½è±¡ï¼Œæœ€åæŸ¥èµ„æ–™æ‰¾æ¡ˆä¾‹å¤§è‡´ç†è§£ä¸‹
```ts
interface StudentInfo {
  name: string,
  age: number,
  grade: number
}

type ReturnParams<T> = T extends (student: infer P) => void ? P : T;
type createStudent = (student:StudentInfo) => void;
type params = ReturnParams<createStudent>;

```
æ€»ç»“ï¼š *é¦–å…ˆæ˜¯æˆ‘ä»¬é€šè¿‡æ³›å‹å®šä¹‰ä¸€ä¸ªReturnParamsï¼Œå½“æ³›å‹æ¥å—çš„Tæ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹çš„æ—¶å€™æˆ‘ä»¬ç”¨interå£°æ˜ç±»å‹å˜é‡Pï¼Œå°†å¹¶ä¸çŸ¥é“å‡½æ•°å‚æ•°çš„ç±»å‹æ˜¯ä»€ä¹ˆç»™ä¿å­˜èµ·æ¥ç„¶åè¿”å›ï¼Œå¦‚æœä¸æ˜¯å‡½æ•°ç±»å‹çš„è¯åˆ™è¿”å›T*

###å…­ã€ç±»å‹æ–­è¨€
>+ ç±»å‹æ–­è¨€æ˜¯æˆ‘å­¦çš„æœ€å¿«çš„ï¼Œå°±åƒæˆ‘ä»¬ä¸Šæ¥å°±ä¼šç”¨anyå·®ä¸å¤š
>+ ç±»å‹æ–­è¨€ -----> å…¶å®å°±æ˜¯â€œçº æ­£â€tså¯¹ç±»å‹çš„åˆ¤æ–­,  ä½†æ˜¯æ˜¯ä¸æ˜¯çº æ­£é‚£å°±çœ‹è‡ªå·±äº†

```ts
 const name = {};
 name.chinaName = 'è‹å¿ å®';
 name.english = 'suzhongbao';  /*TSä¼šæç¤ºæˆ‘ä»¬å½“å‰ä¸å­˜åœ¨è¿™ä¸¤ä¸ªå±æ€§*/

type Name = {
  chinaName: string,
  englishName:string
}
const name = {} as Name
name.chinaName = 'è‹å¿ å®';
name.englishName = 'suzhonngbao'
// const name1 = <Name>{} ä¼šå’Œjsxæ··æ·†æ‰€ä»¥ä½¿ç”¨aså…³é”®å­—
```
æ€»ç»“ï¼š*æ‰€ä»¥æ…ç”¨ç±»å‹æ–­è¨€ï¼Œé™¤éä½ å¾ˆæ¸…æ¥šè‡ªå·±åœ¨å¹²ä»€ä¹ˆ*

### ä¸ƒã€å‡½æ•°é‡è½½
ä»€ä¹ˆæ˜¯å‡½æ•°é‡è½½æˆ‘ä»¬ç›´æ¥çœ‹ä¸ªğŸŒ°
```ts
declare function test(params: string): string;
declare function test(params: number): number; /*é€šè¿‡declareå®ç°å‡½æ•°é‡è½½*/
const resStr1 = test('Hello World')
const resNum2 = test('123');

// ---è¿™é‡Œæˆ‘ä»¬ç”³æ˜äº†ä¸¤æ¬¡ï¼Ÿï¼ä¸ºä»€ä¹ˆæˆ‘ä¸èƒ½åˆ¤æ–­ç±»å‹æˆ–è€…å¯é€‰å‚æ•°å‘¢ï¼Ÿæ‰€ä»¥åšäº†ä¸‹é¢çš„å¤„ç†
declare function overload(info: Info | string, flag?: boolean ): string;
/*è¿™é‡Œå¹¶æ²¡æœ‰é”™è¯¯ï¼Œä½†æ˜¯è¿èƒŒäº†æˆ‘ä»¬çš„æƒ³æ³•*/
overload({ name: 'suzhongbao', age: 24 }, true);

/*å®é™…æ˜¯è¿™æ · æˆ‘ä»¬æ˜¯æƒ³å¦‚æœä¼ é€’infoçš„Infoç±»å‹ å°±ä¸ä¼ flag, å¦‚æœä¼ é€’infoç±»å‹æ˜¯stringå°±ä¼ é€’flagï¼Œ
ä½†æ˜¯TSå¹¶ä¸çŸ¥é“æˆ‘ä»¬æƒ³è¿™æ ·å³ä½¿æˆ‘ä»¬ä¼ äº†Infoç±»å‹ï¼Œä¹Ÿå…è®¸ä¼ é€’flagï¼Œä½†è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„*/

declare function overload(info: Info): string;
declare function overload(info: string, flag: boolean): string;
const res = overload({ name: 'suzhongbao', age: 24 }, true)
/*è¿™æ ·TSå°±ä¼šæ£€æµ‹å‡ºå½“ä½ è¿™é‡Œåº”è¯¥æ˜¯stringç±»å‹çš„å‚æ•°*/
```
æ€»ç»“ï¼š*å®ƒçš„æ„ä¹‰åœ¨äºè®©ä½ æ¸…æ™°çš„çŸ¥é“ä¼ å…¥ä¸åŒçš„å‚æ•°å¾—åˆ°ä¸åŒçš„ç»“æœï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°ä¸åŒï¼Œä½†æ˜¯å¾—åˆ°ç›¸åŒç±»å‹çš„æ•°æ®ï¼Œé‚£å°±ä¸éœ€è¦ä½¿ç”¨å‡½æ•°é‡è½½ã€‚*
